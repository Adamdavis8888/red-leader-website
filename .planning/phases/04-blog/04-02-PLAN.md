---
phase: 04-blog
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - app/(marketing)/blog/[slug]/page.tsx
autonomous: true

must_haves:
  truths:
    - "Visitor can read full blog post content at /blog/[slug]"
    - "Blog post displays author, date, category, and reading time"
    - "Each post has proper SEO metadata (title, description)"
    - "Blog post demonstrates technical depth and expertise"
  artifacts:
    - path: "app/(marketing)/blog/[slug]/page.tsx"
      provides: "Dynamic blog post detail page"
      exports: ["generateStaticParams", "generateMetadata"]
      min_lines: 120
  key_links:
    - from: "app/(marketing)/blog/[slug]/page.tsx"
      to: "app/data/blog-posts.ts"
      via: "import getBlogPostBySlug, blogPosts"
      pattern: "import.*getBlogPostBySlug.*from.*blog-posts"
---

<objective>
Create the blog post detail page with full content rendering and navigation.

Purpose: Display thought leadership content with proper SEO and reading experience.
Output: Dynamic blog post template that renders any post from the data file.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
# Existing dynamic route patterns to follow
@/Users/adamdavis/red-leader-website/app/(marketing)/services/[slug]/page.tsx
@/Users/adamdavis/red-leader-website/app/(marketing)/case-studies/[slug]/page.tsx
@/Users/adamdavis/red-leader-website/app/data/blog-posts.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create blog post detail page</name>
  <files>app/(marketing)/blog/[slug]/page.tsx</files>
  <action>
Create the dynamic blog post page following the exact pattern in case-studies/[slug]/page.tsx and services/[slug]/page.tsx.

Required exports:
- export const dynamic = 'force-static'
- generateStaticParams() returning all blog post slugs
- generateMetadata() returning title and description from post data

Page structure:
1. Breadcrumb navigation (Home / Blog / Post Title) - match case-studies pattern
2. Hero section (bg-brand-dark):
   - Category badge
   - Title (large, bold)
   - Excerpt as subtitle
   - Author info with avatar placeholder (initials in circle like testimonials)
   - Published date and reading time
3. Main content section:
   - Full blog content with proper typography (prose classes)
   - Render content paragraphs split by \n\n
   - Tags displayed as badges at bottom
4. Related posts section (if available):
   - Use getRelatedPosts() from data file
   - Display as smaller cards (2-column grid)
5. CTA section:
   - "Need Help With [Category]?" heading
   - Contact Us / Book a Consultation buttons

Important implementation details:
- Use async/await for params (Next.js 15 pattern): `const { slug } = await params`
- Call notFound() if post not found
- Props type: `{ params: Promise<{ slug: string }> }`

Content rendering:
- Split content by '\n\n' to create paragraphs
- Use prose/prose-lg classes for typography
- Code blocks: if content contains backticks, render in <code> or <pre> tags
- Headings in content: detect lines starting with ## and render as h2

Sidebar (optional, if layout permits):
- Table of contents extracted from content headings
- Or: Related posts / Author bio
- Sticky positioning (top-24) like services page

Style consistency:
- Match existing page styles exactly
- Transitions, hover states, color classes from other pages
  </action>
  <verify>
    - File exists at app/(marketing)/blog/[slug]/page.tsx
    - Build succeeds: `npm run build` (generates static pages for all posts)
    - Each post accessible: /blog/why-your-kubernetes-cluster-crashed-at-3-am-and-how-to-prevent-it
    - Metadata visible in browser dev tools
    - Content renders with proper typography
  </verify>
  <done>Blog post detail pages render with full content, proper SEO, and consistent styling</done>
</task>

<task type="auto">
  <name>Task 2: Add navigation and related posts</name>
  <files>app/(marketing)/blog/[slug]/page.tsx</files>
  <action>
Enhance the blog post page with navigation elements (building on Task 1).

Add previous/next post navigation:
- Match the pattern in case-studies/[slug]/page.tsx exactly
- Find current post index in blogPosts array
- Show prev/next links with post titles
- Arrow icons and hover states

Related posts section:
- Use getRelatedPosts() function
- Filter to max 2-3 related posts
- Display in card format with category, title, excerpt
- Link to their detail pages

Back to blog link:
- Add "Back to Blog" link near breadcrumb or at bottom
- Arrow-left icon

Ensure all links work:
- Internal links use Next.js Link component
- No broken references
  </action>
  <verify>
    - Prev/Next navigation appears on post pages
    - Related posts section shows relevant posts
    - All internal links work correctly
    - Navigation is keyboard accessible
  </verify>
  <done>Post pages have complete navigation: prev/next, related posts, back to listing</done>
</task>

</tasks>

<verification>
- `npm run build` generates all static blog post pages without errors
- Each of the 3 posts accessible at /blog/[slug]
- Full content visible with proper formatting
- SEO metadata correct for each post (check with browser dev tools)
- Prev/next navigation works between posts
- Related posts displayed and linked correctly
- Mobile responsive layout
</verification>

<success_criteria>
1. All 3 blog posts render at their respective URLs
2. Each post displays: title, author, date, category, reading time, full content, tags
3. SEO metadata (title, description) set correctly for each post
4. Content demonstrates technical expertise (not placeholder text)
5. Navigation between posts works (prev/next, related)
6. Page matches visual style of case-studies detail pages
</success_criteria>

<output>
After completion, create `.planning/phases/04-blog/04-02-SUMMARY.md`
</output>
