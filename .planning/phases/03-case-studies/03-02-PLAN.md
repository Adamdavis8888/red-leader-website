---
phase: 03-case-studies
plan: 02
type: execute
wave: 2
depends_on: ["03-01"]
files_modified:
  - app/(marketing)/case-studies/[slug]/page.tsx
autonomous: true

must_haves:
  truths:
    - "Visitor can read detailed case study page"
    - "Case study shows problem, solution, and outcome sections"
    - "Case study displays quantified metrics prominently"
    - "Case study demonstrates technical depth"
    - "Related case studies link to other examples"
  artifacts:
    - path: "app/(marketing)/case-studies/[slug]/page.tsx"
      provides: "Dynamic case study detail pages"
      contains: ["generateStaticParams", "force-static", "notFound"]
  key_links:
    - from: "app/(marketing)/case-studies/[slug]/page.tsx"
      to: "app/data/case-studies.ts"
      via: "import getCaseStudyBySlug"
      pattern: "getCaseStudyBySlug\\(slug\\)"
    - from: "app/(marketing)/case-studies/[slug]/page.tsx"
      to: "app/(marketing)/case-studies/page.tsx"
      via: "Back to Case Studies link"
      pattern: "href=.*case-studies"
---

<objective>
Create individual case study detail pages using dynamic routes.

Purpose: Provide in-depth case study content that demonstrates Red Leader's technical expertise and quantified results to potential clients.

Output: Dynamic route that generates static pages for each case study with full problem/solution/outcome narrative.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@app/(marketing)/services/[slug]/page.tsx (follow this pattern for dynamic route structure)
@app/data/case-studies.ts (data source from Plan 01)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create dynamic case study detail page</name>
  <files>app/(marketing)/case-studies/[slug]/page.tsx</files>
  <action>
Create detail page following services/[slug]/page.tsx pattern:

1. Setup with static generation:
```typescript
import Link from 'next/link'
import { notFound } from 'next/navigation'
import type { Metadata } from 'next'
import { caseStudies, getCaseStudyBySlug, getRelatedCaseStudies } from '@/app/data/case-studies'

export const dynamic = 'force-static'

export function generateStaticParams() {
  return caseStudies.map((cs) => ({
    slug: cs.slug,
  }))
}

type Props = {
  params: Promise<{ slug: string }>
}

export async function generateMetadata({ params }: Props): Promise<Metadata> {
  const { slug } = await params
  const caseStudy = getCaseStudyBySlug(slug)
  // Return appropriate metadata or 404 fallback
}
```

2. Page structure - Hero section (brand-dark):
- Back link: "< Back to Case Studies" (top left)
- Badges: Industry + Crisis Type (pill style, red background)
- Client name (gray text, smaller)
- Title (large, bold, white)
- Timeline badge: "Resolved in {timeline}"

3. Metrics bar (below hero, white bg with shadow):
- 4-column grid showing all metrics
- Large value (brand-red), small label below
- Full width, prominent placement

4. Main content (3-column layout on lg):
Left column (2/3 width):
- "The Challenge" section
  - Problem text with technical context
  - What was at stake (business impact)

- "Our Solution" section
  - What Red Leader did
  - Technical approach taken
  - Key decisions made

- "The Outcome" section
  - Results achieved
  - Long-term benefits
  - Any ongoing relationship

- "Technical Details" section (optional, if relevant)
  - Technologies involved
  - Architecture changes
  - Specific tools/methods used

Right column (1/3 width - sticky sidebar):
- Quick facts card:
  - Client (anonymized)
  - Industry
  - Crisis Type
  - Timeline
  - Services Used (linked to service pages)
- Testimonial card (if exists):
  - Quote in italics
  - Author name and role
- CTA card:
  - "Facing a Similar Challenge?"
  - Contact button (brand-red)
  - Consultation booking link

5. Related case studies section (bottom):
- "More Success Stories" heading
- 2-3 related case study cards (similar to listing page cards)
- Use getRelatedCaseStudies() function

6. Final CTA section:
- "Ready to Write Your Success Story?"
- Contact and consultation buttons
- Match styling from services detail page

Handle notFound() if slug doesn't match any case study.
  </action>
  <verify>
Run: `npm run build` - generates static pages for all case studies
Run: `npm run dev` and visit:
  - http://localhost:3000/case-studies/e-commerce-database-recovery
  - http://localhost:3000/case-studies/financial-platform-cloud-migration
  - http://localhost:3000/case-studies/healthcare-ransomware-recovery
Verify: All sections render, metrics display, related case studies link
Verify: Invalid slug returns 404
  </verify>
  <done>
All 3 case study detail pages render with full content, metrics prominent, related case studies shown, navigation works between listing and detail
  </done>
</task>

<task type="auto">
  <name>Task 2: Add navigation and cross-linking</name>
  <files>app/(marketing)/case-studies/[slug]/page.tsx</files>
  <action>
Enhance the detail page with proper navigation:

1. Breadcrumb navigation (top of page, inside hero):
```
Home > Case Studies > {Case Study Title}
```
Each segment linked appropriately.

2. Service links in sidebar:
- Each service in caseStudy.services array links to /services/{slug}
- Verify service slugs match those in services.ts

3. Previous/Next navigation (bottom, before final CTA):
- "< Previous Case Study" | "Next Case Study >"
- Based on array order in caseStudies
- First case study: no previous, last: no next
- Show case study title on hover/below link

4. Ensure all internal links use Next.js Link component for client-side navigation.

5. Test keyboard navigation and focus states on interactive elements.
  </action>
  <verify>
Test navigation flow:
- Listing page -> Detail page -> Back to listing
- Detail page -> Related case study -> Back
- Detail page -> Service link -> Service page
- Previous/Next navigation between case studies
All links use proper Link component (check no <a href> without Link)
  </verify>
  <done>
Complete navigation system: breadcrumbs, back link, related case studies, prev/next, service links all functional
  </done>
</task>

</tasks>

<verification>
1. Build succeeds: `npm run build` generates all case study pages
2. Static generation: Check .next/server/app/(marketing)/case-studies/ has [slug] pages
3. Each case study page:
   - Displays all content sections (challenge, solution, outcome)
   - Shows metrics prominently
   - Has working sidebar with quick facts
   - Shows testimonial if available
   - Links to related services
   - Shows related case studies
4. Navigation complete:
   - Breadcrumbs work
   - Back to listing works
   - Prev/Next between case studies works
   - Links from listing page reach detail pages
5. 404 handling: Invalid slug shows 404 page
</verification>

<success_criteria>
- All 3 case study detail pages accessible via /case-studies/[slug]
- Each page shows problem, solution, outcome clearly
- Metrics displayed prominently (quantified results visible)
- Technical depth evident in solution descriptions
- Related case studies encourage further exploration
- Navigation is complete and intuitive
- Pages follow brand styling consistently
</success_criteria>

<output>
After completion, create `.planning/phases/03-case-studies/03-02-SUMMARY.md`
</output>
